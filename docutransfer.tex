\chapter{Hintergrund} \label{ch:backg}

\section{Erweiterungsmodul Intensivmedizin} \label{sec:icu}

Version 1.0.0

\noindent Neue Profile: \url{https://www.medizininformatik-initiative.de/Kerndatensatz/Modul_Intensivmedizin/IGMIIKDSModulICU.html}


Das Erweiterungsmodul Intensivmedizin oder \ac{icu}, \acs{pdms}/Biosignale spezifiziert akutmedizinische Daten für die Primär- und Sekundärnutzung und hat Bezüge zu den Basismodulen. Ziel der Modellierung dieses Erweiterungsmoduls ist an erster Stelle die Datenabbildung der Intensivmedizin und die Darstellung gleichartiger Daten der Notfallmedizin, stationärer und ambulanter Medizin.

\chapter{Biosignaldaten \acs{copra} \& \acs{fhir}} \label{ch:coprafhir}

\section{Abbildung der Biosignaldaten in \acs{copra}} \label{sec:copra}

Die benötigte Daten an der Universitätsmedizin Mainz für die Erzeugung der \ac{fhir}-Ressourcen des Erweiterungsmoduls Intensivmedizin befinden sich in der \acsu{copra}-Instanz des \acsu{dw} des \ac{diz}. Die Datensätze für die Überführung der Daten in \ac{fhir} liegen in mehreren Tabellen und müssen hierzu im Regelfall zusammengeführt werden.

\subsection{Tabellen in \acs{copra}} \label{subsec:copratab}

\begin{itemize}
  \item \texttt{co6\_config\_variables}: Name und Schlüssel der Konfigurationsvariablen oder Biosignalparameter die mit den Namen der Profile zugeordnet wurden.
  \item \texttt{co6\_data\_string}: Pseudonymisierte Patientennummer und Fallnummer, interne Identifikatoren der behandelnden Personen und Fälle.
  \item \texttt{co6\_data\_decimal\_6\_3}: Nummerische Werte der Biosignale, Datum und Uhrzeit der Messung, interner Identifikator der Patienten, Schlüssel der Konfigurationsvariablen
  \item \texttt{co6\_data\_object}: Referenz zu Patient- und Fall-Objekte, Schlüssel der Konfigurationsvariablen.
  \item \texttt{co6\_medic\_pressure}: Systolische, mittlere und diastolische Blutdruckwerte der Biosignalen, Datum und Uhrzeit der Messung, interner Identifikator der Patienten, Schlüssel der Konfigurationsvariablen.
\end{itemize}
\vspace{4mm}

\subsection{Abbildung der \acs{fhir}-Informationen} \label{subsec:coprareflexfhir}

\noindent Profile: \url{https://www.medizininformatik-initiative.de/Kerndatensatz/Modul_Intensivmedizin/IGMIIKDSModulICU.html}

\noindent Version 1.0.0

\noindent Input:
\begin{itemize}
	\item Datensatz aus \texttt{co6\_config\_variables}, \texttt{co6\_data\_decimal\_6\_3} \\ und \texttt{co6\_data\_string}
\end{itemize}
Output:
\begin{itemize}
	\item \ac{fhir}-Profile der Kategorie \glqq Observation\grqq{} - nummerische Werte %und String Werte
\end{itemize}

\noindent \textbf{Anmerkung}: die fett geschriebenen Begriffe sind Informationen oder Teilinformationen die in \ac{copra} zu finden sind. 

\begin{longtable}{|l|l|p{7.5cm}|} 
	\hline
	\rowcolor{lightgray} \multicolumn{3}{|l|}{Data Mapping (inhaltlich) - nummerische Werte} \\ \hline
	\textbf{id} &  & ID in den Tabellen \texttt{co6\_data\_decimal\_6\_3} \\ \hline
	meta & profile & https://medizininformatik-initiative.de/fhir/ext/modul-icu/StructureDefinition/\textsl{Profile\_Name} \\ \hline 
	status &  & final  \\ \hline 
	category & coding & system: http://terminology.hl7.org/ CodeSystem/observation-category \\ 
	\cline{3-3}
	& & code: vital-signs \\ \hline
	code & coding & system: Url von \ac{loinc}, \ac{snomedct}, und / oder \ac{ieee} \\ 
	\cline{3-3} 
	 &  & code: \ac{loinc}, \ac{snomedct}, oder \ac{ieee} \\ \hline
	\textbf{subject} & reference & Pseudonymisierte Patientennummer: \texttt{co6\_data\_string.val} wobei \texttt{co6\_data\_decimal\_6\_3.varID} = 1 und \texttt{co6\_data\_string.varID} = 8 \\ \hline
	\textbf{valueQuantity} & \textbf{value} & Wert der Messung: \texttt{co6\_data\_decimal\_6\_3.val} \\
	\cline{2-3}
	 & system & http://unitsofmeasure.org \\ 
	 \cline{2-3}
	 & \textbf{code} & Mapping auf http://unitsofmeasure.org. (\texttt{mapping\_mii\_co6\_to\_transfer.profile \_unit}) z.B. °C - Cel: \texttt{co6\_config\_variables.unit} \\ \hline
    \textbf{effectiveDateTime} & & Datum und Uhrzeit der Messung: \texttt{co6\_data\_decimal\_6\_3.datetimeto}  \\ \hline
\end{longtable}

\vspace{4mm}

\noindent Input:
\begin{itemize}
	\item Datensatz aus \texttt{co6\_ config\_variables}, \texttt{co6\_medic\_pressure} \\ und \texttt{co6\_data\_string}
\end{itemize}
Output:
\begin{itemize}
	\item \ac{fhir}-Profile der Kategorie \glqq Observation\grqq{} - Blutdruckmessungen
\end{itemize}
\begin{longtable}{|l|l|p{7cm}|} 
	\hline
	\rowcolor{lightgray} \multicolumn{3}{|l|}{Data Mapping (inhaltlich) - Blutdruckmessungen} \\ \hline
	\textbf{id} &  & ID in der Tabelle \texttt{co6\_medic\_pressure}  \\ \hline
	meta & profile & https://medizininformatik-initiative.de/fhir/ext/modul-icu/StructureDefinition/\textsl{Profile\_Name} \\ \hline 
	status &  & final  \\ \hline 
	category & coding & system: http://terminology.hl7.org/ CodeSystem/observation-category \\ 
	\cline{3-3}
	& & code: vital-signs \\ \hline
	code (Blutdruck) & coding & system: Url von \ac{loinc}, \ac{snomedct}, und / oder \ac{ieee} \\ 
	\cline{3-3} 
	&  & code: \ac{loinc}, \ac{snomedct}, oder \ac{ieee} \\ \hline
	\textbf{subject} & reference & Pseudonymisierte Patientennummer: \texttt{co6\_data\_string.val} wobei \texttt{co6\_data\_decimal\_6\_3.varID} = 1 und \texttt{co6\_data\_string.varID} = 8 \\ \hline
	\textbf{effectiveDateTime} & & Datum und Uhrzeit am Anfang der Messung:  \texttt{co6\_medic\_pressure.datetimeto} \\ \hline
	\multicolumn{3}{|l|}{component} \\ \hline
	code (Systolisch)  & coding & system: Url von \ac{loinc}, \ac{snomedct}, und / oder \ac{ieee} \\ 
	\cline{3-3} 
	&  & code: \ac{loinc}, \ac{snomedct}, oder \ac{ieee} \\ \hline	
	\textbf{valueQuantity} & \textbf{value} & Systolischer Wert: \texttt{co6\_medic\_pressure.systolic} \\
	\cline{2-3}
	& system & http://unitsofmeasure.org \\ 
	\cline{2-3}
	& \textbf{code} & Mapping auf http://unitsofmeasure.org. z.B. mmHg - mm[Hg]: \texttt{co6\_config\_variables.unit} \\ \hline
	code (Mittel)  & coding & system: Url von \ac{loinc}, \ac{snomedct}, und / oder \ac{ieee} \\ 
	\cline{3-3} 
	&  & code: \ac{loinc}, \ac{snomedct}, oder \ac{ieee} \\ \hline	
	\textbf{valueQuantity} & \textbf{value} & Mittlerer Wert: \texttt{co6\_medic\_pressure.mean} \\
	\cline{2-3}
	& system & http://unitsofmeasure.org \\ 
	\cline{2-3}
	& \textbf{code} & Mapping auf http://unitsofmeasure.org. z.B. mmHg - mm[Hg]: \texttt{co6\_config\_variables.unit} \\ \hline
	code (Diastolisch)  & coding & system: Url von \ac{loinc}, \ac{snomedct}, und / oder \ac{ieee} \\ 
	\cline{3-3} 
	&  & code: \ac{loinc}, \ac{snomedct}, oder \ac{ieee} \\ \hline	
	\textbf{valueQuantity} & \textbf{value} & Diastolischer Wert: \texttt{co6\_medic\_pressure.diastolic} \\
	\cline{2-3}
	& system & http://unitsofmeasure.org \\ 
	\cline{2-3}
	& \textbf{code} & Mapping auf http://unitsofmeasure.org. z.B. mmHg - mm[Hg]: \texttt{co6\_config\_variables.unit} \\ \hline
\end{longtable}
\clearpage
